| package |
package := Package name: 'RBTests'.
package paxVersion: 2;
	preDeclareClassesOnLoad: false;
	basicComment: ''.


package setClassNames: #(
	#{AbstractClassVariableTest}
	#{AbstractInstanceVariableTest}
	#{AddClassTest}
	#{AddClassVariableTest}
	#{AddInstanceVariableTest}
	#{AddMethodTest}
	#{AddParameterTest}
	#{BrowserEnvironmentTest}
	#{ChildrenToSiblingsTest}
	#{CreateAccessorsForVariableTest}
	#{ExtractMethodTest}
	#{ExtractMethodToComponentTest}
	#{ExtractToTemporaryTest}
	#{FormatterTest}
	#{InlineAllMethodTest}
	#{InlineMethodFromComponentTest}
	#{InlineMethodTest}
	#{InlineParameterTest}
	#{InlineTemporaryTest}
	#{MoveMethodTest}
	#{MoveVariableDefinitionTest}
	#{ParserTest}
	#{ProtectInstanceVariableTest}
	#{PullUpClassVariableTest}
	#{PushDownClassVariableTest}
	#{PushDownInstanceVariableTest}
	#{PushDownMethodTest}
	#{PushUpInstanceVariableTest}
	#{PushUpMethodTest}
	#{RBClassTest}
	#{RBConditionTest}
	#{RBMethodTest}
	#{RBNamespaceTest}
	#{RefactoringBrowserTest}
	#{RefactoringManagerTest}
	#{RefactoringTest}
	#{ReferenceFinderTest}
	#{RemoveClassTest}
	#{RemoveClassVariableTest}
	#{RemoveInstanceVariableTest}
	#{RemoveMethodTest}
	#{RemoveParameterTest}
	#{RenameClassTest}
	#{RenameClassVariableTest}
	#{RenameInstanceVariableTest}
	#{RenameMethodTest}
	#{RenameTemporaryTest}
	#{SmalllintTest}
	#{TemporaryToInstanceVariableTest}
	#{VariableEnvironmentTest}
	#{VariableTypeTest}
).

package setMethodNames: #(
	#(#{BlockClosure} #isEqualTo:)
	#(#{ByteArray} #isEqualTo:)
	#(#{Collection} #isEqualTo:)
	#(#{CompiledCode} #isEqualTo:)
	#(#{Interval} #isEqualTo:)
	#(#{Object} #isEqualTo:)
	#(#{String} #isEqualTo:)
	#(#{String} #withCRs)
	#(#{SystemDictionary} #isEqualTo:)
).

package setVariableNames: #(
	#{RBFormatter1}
).

package setAliasVariableNames: #(
	#{RBFormatter1}
).

package setPrerequisites: #(
	'..\..\..\..\Object Arts\Dolphin\Base\Dolphin'
	'..\..\..\..\Object Arts\Dolphin\MVP\Presenters\List\Dolphin List Presenter'
	'..\..\..\..\Object Arts\Dolphin\MVP\Dialogs\Progress\Dolphin Progress Dialog'
	'..\Environments\RBEnvironments'
	'..\Formatters\RBFormatters'
	'..\Parser\RBParser'
	'..\Refactorings\RBRefactorings'
	'..\Refactorings\RBReferenceFinder'
	'..\SmallLint\RBSmallLint'
	'RBTestMethods'
	'..\..\..\..\Object Arts\Dolphin\System\Compiler\Smalltalk Parser'
	'..\..\..\Camp Smalltalk\SUnit\SUnit'
).

package!

"Class Definitions"!

TestCase subclass: #RefactoringBrowserTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringBrowserTest subclass: #BrowserEnvironmentTest
	instanceVariableNames: 'browser universalEnvironment totalSelectors'
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringBrowserTest subclass: #FormatterTest
	instanceVariableNames: 'settings'
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringBrowserTest subclass: #ParserTest
	instanceVariableNames: 'currentSelector classSearches rewrites'
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringBrowserTest subclass: #RBClassTest
	instanceVariableNames: 'objectClass newClass messageNodeClass'
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringBrowserTest subclass: #RBMethodTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringBrowserTest subclass: #RBNamespaceTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringBrowserTest subclass: #RefactoringManagerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringBrowserTest subclass: #RefactoringTest
	instanceVariableNames: 'manager changeSet model'
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringBrowserTest subclass: #ReferenceFinderTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringBrowserTest subclass: #SmalllintTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringBrowserTest subclass: #VariableTypeTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
BrowserEnvironmentTest subclass: #VariableEnvironmentTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #AbstractClassVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #AbstractInstanceVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #AddClassTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #AddClassVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #AddInstanceVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #AddMethodTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #AddParameterTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #ChildrenToSiblingsTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #CreateAccessorsForVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #ExtractMethodTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #ExtractMethodToComponentTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #ExtractToTemporaryTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #InlineAllMethodTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #InlineMethodFromComponentTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #InlineMethodTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #InlineParameterTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #InlineTemporaryTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #MoveMethodTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #MoveVariableDefinitionTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #ProtectInstanceVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #PullUpClassVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #PushDownClassVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #PushDownInstanceVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #PushDownMethodTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #PushUpInstanceVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #PushUpMethodTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #RBConditionTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #RemoveClassTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #RemoveClassVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #RemoveInstanceVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #RemoveMethodTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #RemoveParameterTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #RenameClassTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #RenameClassVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #RenameInstanceVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #RenameMethodTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #RenameTemporaryTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
RefactoringTest subclass: #TemporaryToInstanceVariableTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!

"Variable Aliases"!

RBFormatter1 := RBConfigurableFormatter!


"Loose Methods"!

!BlockClosure methodsFor!

isEqualTo: aBlockClosure
	self class = aBlockClosure class ifFalse: [^false].
	^self method isEqualTo: aBlockClosure method! !
!BlockClosure categoriesFor: #isEqualTo:!public!testing! !

!ByteArray methodsFor!

isEqualTo: aByteArray
	^self = aByteArray! !
!ByteArray categoriesFor: #isEqualTo:!comparing!public! !

!Collection methodsFor!

isEqualTo: anObject
	^self class == anObject class and: 
			[self size = anObject size and: 
					[| notFound |
					notFound := Object new.
					self allSatisfy: 
							[:each | 
							(anObject detect: [:eachOther | each isEqualTo: eachOther]
								ifNone: [notFound]) ~~ notFound]]]! !
!Collection categoriesFor: #isEqualTo:!comparing!public! !

!CompiledCode methodsFor!

isEqualTo: aMethod
	| count |
	self == aMethod ifTrue: [^true].
	self class = aMethod class ifFalse: [^false].
	self byteCodes = aMethod byteCodes ifFalse: [^false].
	count := self literalCount.
	aMethod literalCount = count ifFalse: [^false].
	"We need to special case static blocks in the literal frame to avoid infinite recursion"
	1 to: count
		do: 
			[:i |
			| a b |
			a := self basicAt: i.
			b := aMethod basicAt: i.
			"The static blocks must be equal if they are implemented by this method and
			the bytecodes and all other literals are identical"
			(a class == BlockClosure and: [a method == self])
				ifTrue: [(b class == BlockClosure and: [b method == aMethod]) ifFalse: [^false]]
				ifFalse: [(a isEqualTo: b) ifFalse: [^false]]].
	^true! !
!CompiledCode categoriesFor: #isEqualTo:!public!testing! !

!Interval methodsFor!

isEqualTo: anObject
	^self class == anObject class and: [self = anObject]! !
!Interval categoriesFor: #isEqualTo:!public! !

!Object methodsFor!

isEqualTo: anObject
	^self = anObject! !
!Object categoriesFor: #isEqualTo:!public!testing! !

!String methodsFor!

isEqualTo: aString
	^self = aString!

withCRs
	| stream |
	stream := self class writeStream: self size.
	self do: [:each | each = $\ ifTrue: [stream nextPutAll: self class lineDelimiter] ifFalse: [stream nextPut: each]].
	^stream contents! !
!String categoriesFor: #isEqualTo:!comparing!public! !
!String categoriesFor: #withCRs!converting!public! !

!SystemDictionary methodsFor!

isEqualTo: aSystemDictionary 
	^aSystemDictionary == self! !
!SystemDictionary categoriesFor: #isEqualTo:!public! !

"End of package definition"!

